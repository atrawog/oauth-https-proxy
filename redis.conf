# Redis Security Configuration
# CRITICAL: This file prevents unauthorized access

# Require password for all operations
requirepass ${REDIS_PASSWORD}

# Disable dangerous commands
rename-command FLUSHDB ""
rename-command FLUSHALL ""
rename-command CONFIG ""
rename-command SHUTDOWN ""
rename-command SLAVEOF ""
rename-command REPLICAOF ""
rename-command SYNC ""
rename-command PSYNC ""

# Only bind to localhost and all container interfaces (safe when not exposed)
bind 0.0.0.0 ::

# Enable protected mode
protected-mode yes

# Persistence settings
appendonly yes
appendfsync everysec

# Disable external access
# port 0  # Uncomment to completely disable TCP